;; Build the stage1 version of Menhir, based on a parser generated by
;; [ocamlyacc].

(ocamlyacc parser)

;; As dune cannot use the same module in two different libraries/executables, we
;; need to copy the source files to the present directory.

(copy_files# ../*.{ml,mli})

;; The stage1 version of Menhir. This binary will be used for building the
;; stage2 version of Menhir.

(executable
 (name main)
 (libraries menhirLib menhirSdk unix)
 (flags -open MenhirSdk)
 (modules_without_implementation IL stretch lookahead))
